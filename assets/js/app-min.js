function equals(c,e){return OPS[calc.operator](Number(c),Number(e))}function equalsVal(){return calc.equalsVal?equals(calc.valA,calc.equalsVal):(calc.equalsVal=calc.valB,equals(calc.valA,calc.valB))}function equalsReset(){calc[calc.current]="",calc.equalsVal=0}function updater(c){calc[calc.current]||"."!==c||(c="0."),calc.equalsVal&&equalsReset(),"0"!==calc[calc.current]&&(calc[calc.current]+=c),screenVal(calc[calc.current])}function negator(c){return"0"!==c&&""!==c&&(c=-1===c.indexOf("-")?"-"+c:c.replace("-",""),screenVal(c)),c}function screenVal(c){c=lengthFilter(c),$(".screen").text(c)}function limiter(c){calc.lengthLimit=c,c?$(".screen-message").removeClass("handle"):$(".screen-message").addClass("handle")}function lengthEdit(c){console.log(c),c>12?(c>20&&limiter(!0),$(".screen").addClass("resize")):$(".screen").removeClass("resize")}function lengthFilter(c){var e=c.length;return lengthEdit(e),e>3?commas(c):c}function clear(){$(".ac-btn").text("AC"),calc.valB?calc.valB="":reset(""),screenVal("0")}function commas(c){var e=/(\d)(?=(\d{3})+$)/g,l=c.split(".");return l[0]=l[0].replace(e,"$1,"),l.join(".")}function percent(c){calc[calc.current]=calc.valB?calc.valA/100*c:c/100,screenVal(calc[calc.current])}function reset(c){calc.valA=c,calc.valB="",calc.current="valA",limiter(!1)}const OPS={plus:function(c,e){return c+e},minus:function(c,e){return c-e},multiply:function(c,e){return c*e},divide:function(c,e){return c/e}};var calc={operator:"plus",current:"valA",valA:"",valB:"",equalsVal:0,lengthLimit:!1};$(".basic-ops").click(function(c){calc.operator=c.target.id,calc.current="valB",limiter(!1)}),$(".num-pad").click(function(c){calc.lengthLimit||($(".ac-btn").text("C"),updater(c.target.innerText))}),$(".negate-btn").click(function(){calc[calc.current]=negator(String(calc[calc.current]))}),$(".percent-btn").click(function(){percent(calc[calc.current])}),$(".decimal-btn").click(function(){-1===calc[calc.current].indexOf(".")&&updater(".")}),$(".ac-btn").click(function(){clear()}),$(".equals-btn").click(function(){var c=equalsVal();screenVal(String(c)),reset(c)});